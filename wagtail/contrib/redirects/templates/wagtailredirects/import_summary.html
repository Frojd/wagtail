{% extends "wagtailadmin/base.html" %}
{% load i18n %}
{% block titletag %}{% trans "Summary" %}{% endblock %}
{% block content %}
    {% trans "Summary" as summary_str %}
    {% include "wagtailadmin/shared/header.html" with title=summary_str icon="redirect" %}
    <div class="nice-padding">
        <section id="summary">
            <h2>{% trans "Summary" %}</h2>
            <h3>{% blocktrans with total=import_summary.total successes=import_summary.successes errors=import_summary.errors_count %}Found {{ total }} redirects, created {{ successes }} and found {{ errors }} errors.{% endblocktrans %}</h3>

            <a href="{% url 'wagtailredirects:index' %}" class="button">{% trans "Continue" %}</a>
        </section>

        {% if import_summary.errors_count > 0 %}
            <section id="errors">
                <h2>{% trans "Errors" %}</h2>
                <h3>{% blocktrans with errors=errors_count %}Found {{ errors }} errors{% endblocktrans %}</h3>
                <table class="listing">
                    <thead>
                        <tr>
                            <th>{% trans "From" %}</th>
                            <th>{% trans "To" %}</th>
                            <th>{% trans "Error" %}</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for error in import_summary.errors %}
                            <tr>
                                {% for value in error %}
                                    <td>{{ value }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </section>
        {% endif %}
    </div>
{% endblock %}
